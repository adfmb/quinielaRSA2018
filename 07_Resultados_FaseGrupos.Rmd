---
title: "QUINIELA RUSIA 2018"
subtitle: "Sígueme A 2018"
output: 
  flexdashboard::flex_dashboard:
    orientation: rows
    # vertical_layout: scroll
    logo: football-soccer-ball-48-183228.png
    theme: cerulean
    source_code: "https://github.com/adfmb/quinielaRSA2018"
runtime: shiny
---

Resultados del día - Fase de Grupos {data-orientation=columns}
=======================================================================
  
  Column
-------------------------------------
  
```{r, include=FALSE}
library(dplyr)
source("utils/importacion.R")
source("utils/generate_gbs_F01.R")
source("utils/streamingmatch.R")
alldocs<-readRDS("data/alldocs.rds")
resultados_reales<-read.csv("data/resultados_reales.csv",header=T)
resultados_reales<-resultados_reales%>%
  mutate_at(vars(Grupo,Partido,E1E2,status_juego),.funs = funs(as.character))
# resultados_reales$Empate_real[1:2]<-1
# resultados_reales$status_juego[1:2]<-"terminado"
```

```{r}
gbs<-generate_gbs_F01(alldocs = alldocs,resultados_reales = resultados_reales)
```

```{r}
sm<-streamingmatch(alldocs = alldocs,resultados_reales = resultados_reales)
```


### Partidos en juego
```{r echo = FALSE, results = 'asis'}
library(knitr)
kable(sm$show_tblsm)
```

### Pronósticos
```{r echo = FALSE, results = 'asis'}
library(knitr)
kable(sm$sm)
```

Column {data-width=400}
-------------------------------------
  
### Tabla de Posiciones

```{r}
# renderTable({
#   
#   as.matrix(gbs$gb_nomb)
#   
#   })
tb1<-gbs$gb_nomb%>%arrange(desc(Suma_Puntos_Partido),desc(Suma_Puntos_Marcador),desc(Suma_Puntos_Resultado))
names(tb1)<-c("Concursante","folio","Pts x resultados","Pts x marcadores","Pts Totales")
knitr::kable(tb1)
```










<!-- ```{r} -->
<!-- Grupo_sm1<-"A" -->
<!-- Partido_sm1<-"p1" -->
<!-- p1e1<-0 -->
<!-- p1e2<-0 -->
<!-- sm1<-streamingmatch(Grupo_sm1,Partido_sm1,alldocs = alldocs,resultados_reales = resultados_reales) -->

<!-- Grupo_sm2<-"B" -->
<!-- Partido_sm2<-"p1" -->
<!-- p2e1<-0 -->
<!-- p2e2<-0 -->
<!-- sm2<-streamingmatch(Grupo_sm2,Partido_sm2,alldocs = alldocs,resultados_reales = resultados_reales) -->
<!-- ``` -->


<!-- ```{r} -->
<!-- tbsm1<-sm1$sm%>%rename(Concursante=nomconcursante)%>%select(1:4) -->
<!-- fluidRow( -->

<!--   # column(4, -->
<!--   #        h2(paste0("W",partido1)) -->
<!--   # ), -->
<!--   #  -->
<!--   column(12, -->
<!--           tags$div( -->
<!--              HTML( -->
<!--                paste( -->
<!--                  tags$span(style="color:black", sm1$E1), -->
<!--                  tags$span(style="color:white", "--"), -->
<!--                  tags$span(style="color:red", p1e1), -->
<!--                  tags$span(style="color:white", "-------"), -->
<!--                  tags$span(style="color:black", "vs"), -->
<!--                  tags$span(style="color:white", "-------"), -->
<!--                  tags$span(style="color:black", sm1$E2), -->
<!--                  tags$span(style="color:white", "--"), -->
<!--                  tags$span(style="color:red", p1e2), -->
<!--                  sep = "")) -->
<!--           ) -->
<!--          ) -->
<!-- ) -->

<!-- knitr::kable(tbsm1) -->
<!-- ``` -->

<!-- ### Partido 2 -->
<!-- ```{r} -->
<!-- tbsm2<-sm2$sm%>%rename(Concursante=nomconcursante)%>%select(1:4) -->

<!-- fluidRow( -->
<!--   column(12, -->
<!--           tags$div( -->
<!--              HTML( -->
<!--                paste( -->
<!--                  tags$span(style="color:black", sm2$E1), -->
<!--                  tags$span(style="color:white", "--"), -->
<!--                  tags$span(style="color:red", p2e1), -->
<!--                  tags$span(style="color:white", "-------"), -->
<!--                  tags$span(style="color:black", "vs"), -->
<!--                  tags$span(style="color:white", "-------"), -->
<!--                  tags$span(style="color:black", sm2$E2), -->
<!--                  tags$span(style="color:white", "--"), -->
<!--                  tags$span(style="color:red", p2e2), -->
<!--                  sep = "")) -->
<!--           ) -->
<!--          ) -->
<!-- ) -->

<!-- knitr::kable(tbsm2) -->
<!-- ``` -->


